import{S as t,i as e,s,e as a,t as o,c as n,b as l,f as i,g as r,w as c,j as h,k as d,l as u,a as f,v as g,d as m,h as p,M as v,L as E,n as b,N as w,H as x,O as N,z as T,C as I,I as S,J as y,K as H}from"./client.08fe576b.js";function _(t){let e,s,f=C(t[1])+"";return{c(){e=a("h5"),s=o(f),this.h()},l(t){e=n(t,"H5",{style:!0});var a=l(e);s=i(a,f),a.forEach(r),this.h()},h(){c(e,"margin-top","20px"),c(e,"color","red")},m(t,a){h(t,e,a),d(e,s)},p(t,e){2&e&&f!==(f=C(t[1])+"")&&u(s,f)},d(t){t&&r(e)}}}function A(t){let e,s,x,N,T,I,S,y,H,A,j,k,L,O,R,U,z,B,D,J,K,M=C(t[1]).length>0;document.title=e="New Solution for Test "+t[0];let P=M&&_(t);return{c(){s=f(),x=a("h1"),N=o("New solution for "),T=a("a"),I=o("test "),S=o(t[0]),H=f(),A=a("h4"),j=o("Code"),k=f(),L=a("textarea"),O=f(),R=a("div"),P&&P.c(),U=f(),z=a("button"),B=o("add solution"),this.h()},l(e){g('[data-svelte="svelte-88ih38"]',document.head).forEach(r),s=m(e),x=n(e,"H1",{});var a=l(x);N=i(a,"New solution for "),T=n(a,"A",{href:!0});var o=l(T);I=i(o,"test "),S=i(o,t[0]),o.forEach(r),a.forEach(r),H=m(e),A=n(e,"H4",{style:!0});var c=l(A);j=i(c,"Code"),c.forEach(r),k=m(e),L=n(e,"TEXTAREA",{style:!0}),l(L).forEach(r),O=m(e),R=n(e,"DIV",{});var h=l(R);P&&P.l(h),U=m(h),z=n(h,"BUTTON",{disabled:!0});var d=l(z);B=i(d,"add solution"),d.forEach(r),h.forEach(r),this.h()},h(){p(T,"href",y="/test?id="+t[0]),c(A,"margin-top","20px"),c(L,"width","100%"),c(L,"height","200px"),z.disabled=D=0!=C(t[1]).length},m(e,a){h(e,s,a),h(e,x,a),d(x,N),d(x,T),d(T,I),d(T,S),h(e,H,a),h(e,A,a),d(A,j),h(e,k,a),h(e,L,a),v(L,t[1]),h(e,O,a),h(e,R,a),P&&P.m(R,null),d(R,U),d(R,z),d(z,B),J||(K=[E(L,"input",t[4]),E(z,"click",t[3])],J=!0)},p(t,[s]){1&s&&e!==(e="New Solution for Test "+t[0])&&(document.title=e),1&s&&u(S,t[0]),1&s&&y!==(y="/test?id="+t[0])&&p(T,"href",y),2&s&&v(L,t[1]),2&s&&(M=C(t[1]).length>0),M?P?P.p(t,s):(P=_(t),P.c(),P.m(R,U)):P&&(P.d(1),P=null),2&s&&D!==(D=0!=C(t[1]).length)&&(z.disabled=D)},i:b,o:b,d(t){t&&r(s),t&&r(x),t&&r(H),t&&r(A),t&&r(k),t&&r(L),t&&r(O),t&&r(R),P&&P.d(),J=!1,w(K)}}}function C(t){return 0==t.length?"code is missing":t.length>8192?`code is too long: ${t.length} > 8192`:""}function j(t,e,s){let a,o=null;const n=x(localStorage.getItem("scode")||"");N(t,n,t=>s(1,a=t)),n.subscribe(t=>localStorage.setItem("scode",t));let l=0;return T(()=>{o=I();const t=new URL(location);s(0,l=parseInt(t.searchParams.get("test_id")))}),[l,a,n,async function(){200==(await S(o,"create_solution",{test_code_id:l,code:a})).status&&(n.set(""),y(),H("/test?id="+l+"&page=0"))},function(){a=this.value,n.set(a)}]}export default class extends t{constructor(t){super(),e(this,t,j,A,s,{})}}
