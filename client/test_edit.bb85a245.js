import{S as t,i as e,s as n,a as s,F as i,v as a,g as l,d as o,j as r,n as c,O as d,H as h,z as u,C as p,D as f,I as g,J as m,K as v,e as E,t as T,c as y,b as x,f as H,w as $,k as b,G as w,l as U,L as N,M as k}from"./client.7064612e.js";function A(t){let e,n,i,a,c,d,h,u,p,f,g,m,v,U,A,D,O,R,j,z,B,L,P,X=0!=_(t[4],t[5],t[6]).length,F=(t[4]!=t[0].title||t[5]!=t[0].descr||t[6]!=t[0].code)&&C(t),G=X&&I(t);return{c(){F&&F.c(),e=s(),n=E("h4"),i=T("Title"),a=s(),c=E("input"),d=s(),h=E("h4"),u=T("Description"),p=s(),f=E("textarea"),g=s(),m=E("h4"),v=T("Code"),U=s(),A=E("textarea"),D=s(),O=E("div"),G&&G.c(),R=s(),j=E("button"),z=T("update test"),this.h()},l(t){F&&F.l(t),e=o(t),n=y(t,"H4",{});var s=x(n);i=H(s,"Title"),s.forEach(l),a=o(t),c=y(t,"INPUT",{}),d=o(t),h=y(t,"H4",{style:!0});var r=x(h);u=H(r,"Description"),r.forEach(l),p=o(t),f=y(t,"TEXTAREA",{style:!0}),x(f).forEach(l),g=o(t),m=y(t,"H4",{style:!0});var E=x(m);v=H(E,"Code"),E.forEach(l),U=o(t),A=y(t,"TEXTAREA",{style:!0}),x(A).forEach(l),D=o(t),O=y(t,"DIV",{});var T=x(O);G&&G.l(T),R=o(T),j=y(T,"BUTTON",{disabled:!0});var $=x(j);z=H($,"update test"),$.forEach(l),T.forEach(l),this.h()},h(){$(h,"margin-top","20px"),$(f,"width","100%"),$(f,"height","200px"),$(m,"margin-top","20px"),$(A,"width","100%"),$(A,"height","200px"),j.disabled=B=0!=_(t[4],t[5],t[6]).length},m(s,l){F&&F.m(s,l),r(s,e,l),r(s,n,l),b(n,i),r(s,a,l),r(s,c,l),N(c,t[4]),r(s,d,l),r(s,h,l),b(h,u),r(s,p,l),r(s,f,l),N(f,t[5]),r(s,g,l),r(s,m,l),b(m,v),r(s,U,l),r(s,A,l),N(A,t[6]),r(s,D,l),r(s,O,l),G&&G.m(O,null),b(O,R),b(O,j),b(j,z),L||(P=[w(c,"input",t[9]),w(f,"input",t[10]),w(A,"input",t[11]),w(j,"click",t[8])],L=!0)},p(t,n){t[4]!=t[0].title||t[5]!=t[0].descr||t[6]!=t[0].code?F?F.p(t,n):(F=C(t),F.c(),F.m(e.parentNode,e)):F&&(F.d(1),F=null),16&n&&c.value!==t[4]&&N(c,t[4]),32&n&&N(f,t[5]),64&n&&N(A,t[6]),112&n&&(X=0!=_(t[4],t[5],t[6]).length),X?G?G.p(t,n):(G=I(t),G.c(),G.m(O,R)):G&&(G.d(1),G=null),112&n&&B!==(B=0!=_(t[4],t[5],t[6]).length)&&(j.disabled=B)},d(t){F&&F.d(t),t&&l(e),t&&l(n),t&&l(a),t&&l(c),t&&l(d),t&&l(h),t&&l(p),t&&l(f),t&&l(g),t&&l(m),t&&l(U),t&&l(A),t&&l(D),t&&l(O),G&&G.d(),L=!1,k(P)}}}function D(t){let e,n;return{c(){e=E("h1"),n=T("loading...")},l(t){e=y(t,"H1",{});var s=x(e);n=H(s,"loading..."),s.forEach(l)},m(t,s){r(t,e,s),b(e,n)},p:c,d(t){t&&l(e)}}}function C(t){let e,n,i,a,d,h,u;return{c(){e=E("button"),n=T("restore original test"),i=s(),a=E("h4"),d=T("modified!"),this.h()},l(t){e=y(t,"BUTTON",{});var s=x(e);n=H(s,"restore original test"),s.forEach(l),i=o(t),a=y(t,"H4",{style:!0});var r=x(a);d=H(r,"modified!"),r.forEach(l),this.h()},h(){$(a,"color","red")},m(s,l){r(s,e,l),b(e,n),r(s,i,l),r(s,a,l),b(a,d),h||(u=w(e,"click",t[7]),h=!0)},p:c,d(t){t&&l(e),t&&l(i),t&&l(a),h=!1,u()}}}function I(t){let e,n,s=_(t[4],t[5],t[6])+"";return{c(){e=E("h5"),n=T(s),this.h()},l(t){e=y(t,"H5",{style:!0});var i=x(e);n=H(i,s),i.forEach(l),this.h()},h(){$(e,"margin-top","20px"),$(e,"color","red")},m(t,s){r(t,e,s),b(e,n)},p(t,e){112&e&&s!==(s=_(t[4],t[5],t[6])+"")&&U(n,s)},d(t){t&&l(e)}}}function O(t){let e,n,d;function h(t,e){return t[1]?D:A}document.title=e="Updating test "+t[0].id;let u=h(t),p=u(t);return{c(){n=s(),p.c(),d=i()},l(t){a('[data-svelte="svelte-1it3kzn"]',document.head).forEach(l),n=o(t),p.l(t),d=i()},m(t,e){r(t,n,e),p.m(t,e),r(t,d,e)},p(t,[n]){1&n&&e!==(e="Updating test "+t[0].id)&&(document.title=e),u===(u=h(t))&&p?p.p(t,n):(p.d(1),p=u(t),p&&(p.c(),p.m(d.parentNode,d)))},i:c,o:c,d(t){t&&l(n),p.d(t),t&&l(d)}}}function R(){return new URL(location).searchParams.get("id")}function _(t,e,n){return 0==t.length?"missing title":t.length>256?`title is too long: ${t.length} > 256`:0==e.length?"description is missing":e.length>2048?`description is too long: ${t.length} > 2048`:0==n.length?"code is missing":n.length>8192?`code is too long: ${t.length} > 8192`:""}function j(t,e,n){let s,i,a,l=c,o=()=>(l(),l=h(H,t=>n(5,i=t)),H),r=c,E=()=>(r(),r=h($,t=>n(6,a=t)),$);d(t,null,t=>n(4,s=t)),t.$$.on_destroy.push(()=>l()),t.$$.on_destroy.push(()=>r());let T=null,y=[],x=!0,H=null;o();let $=null;function b(){null.set(y.title)}function w(){H.set(y.descr)}function U(){$.set(y.code)}return E(),u(()=>{R();utnamne="",o(n(2,H="")),E(n(3,$="")),T=p(),async function(t){n(1,x=!0);let e=R(),l=await f(T,"test/"+e);n(0,y=l.data),""==s&&b();""==i&&w();""==a&&U();n(1,x=!1)}()}),[y,x,H,$,s,i,a,function(){b(),w(),U()},async function(){200==(await g(T,"update_test",{id:y.id,title:s,descr:i,code:a})).status&&(null.set(""),H.set(""),$.set(""),m(),v("/test?id="+y.id+"&page=0"))},function(){s=this.value,null.set(s)},function(){i=this.value,H.set(i)},function(){a=this.value,$.set(a)}]}export default class extends t{constructor(t){super(),e(this,t,j,O,n,{})}}
