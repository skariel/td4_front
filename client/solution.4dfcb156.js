import{S as t,i as s,s as a,a as e,F as l,v as c,g as o,d as r,j as n,n as i,z as d,C as u,D as f,P as h,K as v,L as m,t as p,f as E,e as _,c as k,b as y,k as w,G as b,Q as g,N,h as H,w as S,l as D}from"./client.8f6e92c4.js";function P(t){let s,a,c,i,d,u,f,h,v,m,b,g,N,P,C,T,U,V,j,B,G,L,z,A,F,K,M,Q,q,J=t[2].display_name+"",W=t[2].id+"",X=t[2].test_code_id+"",Y=t[2].status+"",Z=t[2].code+"",$="stop"==t[2].status&&R(),tt=t[0].display_name==t[2].display_name&&x(t);function st(t,s){return t[3].length>0?O:I}let at=st(t),et=at(t);return{c(){s=_("div"),a=_("img"),i=e(),d=_("h4"),u=p(J),f=e(),h=_("h4"),v=p("solution "),m=p(W),b=e(),g=_("h4"),N=p("Solution for "),P=_("a"),C=p("test "),T=p(X),V=e(),j=_("h4"),B=p("status: "),G=p(Y),L=e(),$&&$.c(),z=e(),tt&&tt.c(),A=e(),F=_("pre"),K=_("code"),M=p(Z),Q=e(),et.c(),q=l(),this.h()},l(t){s=k(t,"DIV",{class:!0});var e=y(s);a=k(e,"IMG",{class:!0,src:!0,alt:!0}),i=r(e),d=k(e,"H4",{class:!0});var c=y(d);u=E(c,J),c.forEach(o),f=r(e),h=k(e,"H4",{class:!0});var n=y(h);v=E(n,"solution "),m=E(n,W),n.forEach(o),e.forEach(o),b=r(t),g=k(t,"H4",{style:!0});var p=y(g);N=E(p,"Solution for "),P=k(p,"A",{href:!0});var _=y(P);C=E(_,"test "),T=E(_,X),_.forEach(o),p.forEach(o),V=r(t),j=k(t,"H4",{});var w=y(j);B=E(w,"status: "),G=E(w,Y),L=r(w),$&&$.l(w),w.forEach(o),z=r(t),tt&&tt.l(t),A=r(t),F=k(t,"PRE",{class:!0});var H=y(F);K=k(H,"CODE",{class:!0});var S=y(K);M=E(S,Z),S.forEach(o),H.forEach(o),Q=r(t),et.l(t),q=l(),this.h()},h(){H(a,"class","avatar svelte-1bwkf1k"),a.src!==(c=t[2].avatar)&&H(a,"src",c),H(a,"alt","avatar"),H(d,"class","displayname"),H(h,"class","solutionid svelte-1bwkf1k"),H(s,"class","top svelte-1bwkf1k"),H(P,"href",U="/test?id="+t[2].test_code_id),S(g,"margin-top","10px"),H(K,"class","svelte-1bwkf1k"),H(F,"class","code svelte-1bwkf1k")},m(t,e){n(t,s,e),w(s,a),w(s,i),w(s,d),w(d,u),w(s,f),w(s,h),w(h,v),w(h,m),n(t,b,e),n(t,g,e),w(g,N),w(g,P),w(P,C),w(P,T),n(t,V,e),n(t,j,e),w(j,B),w(j,G),w(j,L),$&&$.m(j,null),n(t,z,e),tt&&tt.m(t,e),n(t,A,e),n(t,F,e),w(F,K),w(K,M),n(t,Q,e),et.m(t,e),n(t,q,e)},p(t,s){4&s&&a.src!==(c=t[2].avatar)&&H(a,"src",c),4&s&&J!==(J=t[2].display_name+"")&&D(u,J),4&s&&W!==(W=t[2].id+"")&&D(m,W),4&s&&X!==(X=t[2].test_code_id+"")&&D(T,X),4&s&&U!==(U="/test?id="+t[2].test_code_id)&&H(P,"href",U),4&s&&Y!==(Y=t[2].status+"")&&D(G,Y),"stop"==t[2].status?$||($=R(),$.c(),$.m(j,null)):$&&($.d(1),$=null),t[0].display_name==t[2].display_name?tt?tt.p(t,s):(tt=x(t),tt.c(),tt.m(A.parentNode,A)):tt&&(tt.d(1),tt=null),4&s&&Z!==(Z=t[2].code+"")&&D(M,Z),at===(at=st(t))&&et?et.p(t,s):(et.d(1),et=at(t),et&&(et.c(),et.m(q.parentNode,q)))},d(t){t&&o(s),t&&o(b),t&&o(g),t&&o(V),t&&o(j),$&&$.d(),t&&o(z),tt&&tt.d(t),t&&o(A),t&&o(F),t&&o(Q),et.d(t),t&&o(q)}}}function C(t){let s,a;return{c(){s=_("h1"),a=p("loading...")},l(t){s=k(t,"H1",{});var e=y(s);a=E(e,"loading..."),e.forEach(o)},m(t,e){n(t,s,e),w(s,a)},p:i,d(t){t&&o(s)}}}function R(t){let s;return{c(){s=p("(timeout)")},l(t){s=E(t,"(timeout)")},m(t,a){n(t,s,a)},d(t){t&&o(s)}}}function x(t){let s,a,l,c,i,d,u;return{c(){s=_("button"),a=p("Edit Code"),l=e(),c=_("button"),i=p("Permanently delete solution")},l(t){s=k(t,"BUTTON",{});var e=y(s);a=E(e,"Edit Code"),e.forEach(o),l=r(t),c=k(t,"BUTTON",{});var n=y(c);i=E(n,"Permanently delete solution"),n.forEach(o)},m(e,o){n(e,s,o),w(s,a),n(e,l,o),n(e,c,o),w(c,i),d||(u=[b(s,"click",(function(){g(m("/solution_edit?id="+t[2].id))&&m("/solution_edit?id="+t[2].id).apply(this,arguments)})),b(c,"click",t[5])],d=!0)},p(s,a){t=s},d(t){t&&o(s),t&&o(l),t&&o(c),d=!1,N(u)}}}function I(t){let s,a,e;return{c(){s=_("div"),a=_("h1"),e=p("No result yet"),this.h()},l(t){s=k(t,"DIV",{class:!0});var l=y(s);a=k(l,"H1",{});var c=y(a);e=E(c,"No result yet"),c.forEach(o),l.forEach(o),this.h()},h(){H(s,"class","title svelte-1bwkf1k")},m(t,l){n(t,s,l),w(s,a),w(a,e)},p:i,d(t){t&&o(s)}}}function O(t){let s,a,l,c,i,d,u,f=t[3][0].output.String+"";return{c(){s=_("div"),a=_("h1"),l=p("Results:"),c=e(),i=_("pre"),d=_("code"),u=p(f),this.h()},l(t){s=k(t,"DIV",{class:!0});var e=y(s);a=k(e,"H1",{});var n=y(a);l=E(n,"Results:"),n.forEach(o),e.forEach(o),c=r(t),i=k(t,"PRE",{class:!0});var h=y(i);d=k(h,"CODE",{class:!0});var v=y(d);u=E(v,f),v.forEach(o),h.forEach(o),this.h()},h(){H(s,"class","title svelte-1bwkf1k"),H(d,"class","svelte-1bwkf1k"),H(i,"class","code svelte-1bwkf1k")},m(t,e){n(t,s,e),w(s,a),w(a,l),n(t,c,e),n(t,i,e),w(i,d),w(d,u)},p(t,s){8&s&&f!==(f=t[3][0].output.String+"")&&D(u,f)},d(t){t&&o(s),t&&o(c),t&&o(i)}}}function T(t){let s,a,d;function u(t,s){return t[4]>0?C:P}document.title=s="Solution "+t[1];let f=u(t),h=f(t);return{c(){a=e(),h.c(),d=l()},l(t){c('[data-svelte="svelte-lxanm"]',document.head).forEach(o),a=r(t),h.l(t),d=l()},m(t,s){n(t,a,s),h.m(t,s),n(t,d,s)},p(t,[a]){2&a&&s!==(s="Solution "+t[1])&&(document.title=s),f===(f=u(t))&&h?h.p(t,a):(h.d(1),h=f(t),h&&(h.c(),h.m(d.parentNode,d)))},i:i,o:i,d(t){t&&o(a),h.d(t),t&&o(d)}}}function U(t,s,a){let e={},l=0,c=[],o=[],r=2;return d(async()=>{a(0,e=u()),async function(){a(4,r=2);const t=new URL(location);a(1,l=t.searchParams.get("id"));let s=await f(e,"solution/"+l);a(2,c=s.data),s=await f(e,"results_by_run/"+c.run_id),a(3,o=s.data),a(4,r=0)}()}),[e,l,c,o,r,async function(){200==(await h(e,"delete_solution/"+c.id)).status&&(v(),m("/test?id="+c.test_code_id))}]}export default class extends t{constructor(t){super(),s(this,t,U,T,a,{})}}
