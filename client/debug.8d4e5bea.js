import{S as t,i as e,s as n,a as i,F as s,v as a,g as l,d as o,j as c,n as r,z as d,C as h,D as u,J as f,K as p,L as g,e as m,t as v,c as E,b as T,f as x,w as y,k as b,G as H,l as N,M as w,N as U}from"./client.07fec527.js";function k(t){let e,n,s,a,r,d,h,u,f,p,g,N,k,A,j,B,I,O,R,X,F,G,J,K=0!=z(t[2],t[3],t[4]).length,L=(t[2]!=t[0].title||t[3]!=t[0].descr||t[4]!=t[0].code)&&D(t),M=K&&C(t);return{c(){L&&L.c(),e=i(),n=m("h4"),s=v("Title"),a=i(),r=m("input"),d=i(),h=m("h4"),u=v("Description"),f=i(),p=m("textarea"),g=i(),N=m("h4"),k=v("Code"),A=i(),j=m("textarea"),B=i(),I=m("div"),M&&M.c(),O=i(),R=m("button"),X=v("update test"),this.h()},l(t){L&&L.l(t),e=o(t),n=E(t,"H4",{});var i=T(n);s=x(i,"Title"),i.forEach(l),a=o(t),r=E(t,"INPUT",{}),d=o(t),h=E(t,"H4",{style:!0});var c=T(h);u=x(c,"Description"),c.forEach(l),f=o(t),p=E(t,"TEXTAREA",{style:!0}),T(p).forEach(l),g=o(t),N=E(t,"H4",{style:!0});var m=T(N);k=x(m,"Code"),m.forEach(l),A=o(t),j=E(t,"TEXTAREA",{style:!0}),T(j).forEach(l),B=o(t),I=E(t,"DIV",{});var v=T(I);M&&M.l(v),O=o(v),R=E(v,"BUTTON",{disabled:!0});var y=T(R);X=x(y,"update test"),y.forEach(l),v.forEach(l),this.h()},h(){y(h,"margin-top","20px"),y(p,"width","100%"),y(p,"height","200px"),y(N,"margin-top","20px"),y(j,"width","100%"),y(j,"height","200px"),R.disabled=F=0!=z(t[2],t[3],t[4]).length},m(i,l){L&&L.m(i,l),c(i,e,l),c(i,n,l),b(n,s),c(i,a,l),c(i,r,l),w(r,t[2]),c(i,d,l),c(i,h,l),b(h,u),c(i,f,l),c(i,p,l),w(p,t[3]),c(i,g,l),c(i,N,l),b(N,k),c(i,A,l),c(i,j,l),w(j,t[4]),c(i,B,l),c(i,I,l),M&&M.m(I,null),b(I,O),b(I,R),b(R,X),G||(J=[H(r,"input",t[7]),H(p,"input",t[8]),H(j,"input",t[9]),H(R,"click",t[6])],G=!0)},p(t,n){t[2]!=t[0].title||t[3]!=t[0].descr||t[4]!=t[0].code?L?L.p(t,n):(L=D(t),L.c(),L.m(e.parentNode,e)):L&&(L.d(1),L=null),4&n&&r.value!==t[2]&&w(r,t[2]),8&n&&w(p,t[3]),16&n&&w(j,t[4]),28&n&&(K=0!=z(t[2],t[3],t[4]).length),K?M?M.p(t,n):(M=C(t),M.c(),M.m(I,O)):M&&(M.d(1),M=null),28&n&&F!==(F=0!=z(t[2],t[3],t[4]).length)&&(R.disabled=F)},d(t){L&&L.d(t),t&&l(e),t&&l(n),t&&l(a),t&&l(r),t&&l(d),t&&l(h),t&&l(f),t&&l(p),t&&l(g),t&&l(N),t&&l(A),t&&l(j),t&&l(B),t&&l(I),M&&M.d(),G=!1,U(J)}}}function A(t){let e,n;return{c(){e=m("h1"),n=v("loading...")},l(t){e=E(t,"H1",{});var i=T(e);n=x(i,"loading..."),i.forEach(l)},m(t,i){c(t,e,i),b(e,n)},p:r,d(t){t&&l(e)}}}function D(t){let e,n,s,a,d,h,u;return{c(){e=m("button"),n=v("restore original test"),s=i(),a=m("h4"),d=v("modified!"),this.h()},l(t){e=E(t,"BUTTON",{});var i=T(e);n=x(i,"restore original test"),i.forEach(l),s=o(t),a=E(t,"H4",{style:!0});var c=T(a);d=x(c,"modified!"),c.forEach(l),this.h()},h(){y(a,"color","red")},m(i,l){c(i,e,l),b(e,n),c(i,s,l),c(i,a,l),b(a,d),h||(u=H(e,"click",t[5]),h=!0)},p:r,d(t){t&&l(e),t&&l(s),t&&l(a),h=!1,u()}}}function C(t){let e,n,i=z(t[2],t[3],t[4])+"";return{c(){e=m("h5"),n=v(i),this.h()},l(t){e=E(t,"H5",{style:!0});var s=T(e);n=x(s,i),s.forEach(l),this.h()},h(){y(e,"margin-top","20px"),y(e,"color","red")},m(t,i){c(t,e,i),b(e,n)},p(t,e){28&e&&i!==(i=z(t[2],t[3],t[4])+"")&&N(n,i)},d(t){t&&l(e)}}}function j(t){let e,n,d;function h(t,e){return t[1]?A:k}document.title=e="Updating test "+t[0].id;let u=h(t),f=u(t);return{c(){n=i(),f.c(),d=s()},l(t){a('[data-svelte="svelte-1it3kzn"]',document.head).forEach(l),n=o(t),f.l(t),d=s()},m(t,e){c(t,n,e),f.m(t,e),c(t,d,e)},p(t,[n]){1&n&&e!==(e="Updating test "+t[0].id)&&(document.title=e),u===(u=h(t))&&f?f.p(t,n):(f.d(1),f=u(t),f&&(f.c(),f.m(d.parentNode,d)))},i:r,o:r,d(t){t&&l(n),f.d(t),t&&l(d)}}}function z(t,e,n){return 0==t.length?"missing title":t.length>256?"title is too long: {utname.length} > 256":0==e.length?"description is missing":e.length>2048?"description is too long: {utname.length} > 2048":0==n.length?"code is missing":n.length>8192?"code is too long: {utname.length} > 8192":""}function B(t,e,n){let i=null,s=[],a=!0,l=null,o=null,c=null;function r(){l.set(s.title)}function m(){o.set(s.descr)}function v(){c.set(s.code)}return d(()=>{n(2,l=""),n(3,o=""),n(4,c=""),i=h(),async function(t){n(1,a=!0);let e=await u(i,"test/1");n(0,s=e.data),""==l&&r();""==o&&m();""==c&&v();n(1,a=!1)}()}),[s,a,l,o,c,function(){r(),m(),v()},async function(){200==(await f(i,"update_test",{id:s.id,title:l,descr:o,code:c})).status&&(l.set(""),o.set(""),c.set(""),p(),g("/test?id="+s.id+"&page=0"))},function(){l=this.value,n(2,l)},function(){o=this.value,n(3,o)},function(){c=this.value,n(4,c)}]}export default class extends t{constructor(t){super(),e(this,t,B,j,n,{})}}
