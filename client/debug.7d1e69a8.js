import{S as t,i as e,s,a as n,F as i,v as a,g as l,d as o,j as r,n as c,H as d,z as h,I as u,C as p,D as f,J as g,K as m,L as v,e as E,t as y,c as T,b as x,f as $,w as b,k as H,G as w,l as N,M as U,N as k}from"./client.eafd4bea.js";function A(t){let e,s,i,a,c,d,h,u,p,f,g,m,v,N,A,D,I,R,z,B,L,O,P,X=0!=j(t[5],t[6],t[7]).length,F=(t[5]!=t[0].title||t[6]!=t[0].descr||t[7]!=t[0].code)&&_(t),G=X&&C(t);return{c(){F&&F.c(),e=n(),s=E("h4"),i=y("Title"),a=n(),c=E("input"),d=n(),h=E("h4"),u=y("Description"),p=n(),f=E("textarea"),g=n(),m=E("h4"),v=y("Code"),N=n(),A=E("textarea"),D=n(),I=E("div"),G&&G.c(),R=n(),z=E("button"),B=y("update test"),this.h()},l(t){F&&F.l(t),e=o(t),s=T(t,"H4",{});var n=x(s);i=$(n,"Title"),n.forEach(l),a=o(t),c=T(t,"INPUT",{}),d=o(t),h=T(t,"H4",{style:!0});var r=x(h);u=$(r,"Description"),r.forEach(l),p=o(t),f=T(t,"TEXTAREA",{style:!0}),x(f).forEach(l),g=o(t),m=T(t,"H4",{style:!0});var E=x(m);v=$(E,"Code"),E.forEach(l),N=o(t),A=T(t,"TEXTAREA",{style:!0}),x(A).forEach(l),D=o(t),I=T(t,"DIV",{});var y=x(I);G&&G.l(y),R=o(y),z=T(y,"BUTTON",{disabled:!0});var b=x(z);B=$(b,"update test"),b.forEach(l),y.forEach(l),this.h()},h(){b(h,"margin-top","20px"),b(f,"width","100%"),b(f,"height","200px"),b(m,"margin-top","20px"),b(A,"width","100%"),b(A,"height","200px"),z.disabled=L=0!=j(t[5],t[6],t[7]).length},m(n,l){F&&F.m(n,l),r(n,e,l),r(n,s,l),H(s,i),r(n,a,l),r(n,c,l),U(c,t[5]),r(n,d,l),r(n,h,l),H(h,u),r(n,p,l),r(n,f,l),U(f,t[6]),r(n,g,l),r(n,m,l),H(m,v),r(n,N,l),r(n,A,l),U(A,t[7]),r(n,D,l),r(n,I,l),G&&G.m(I,null),H(I,R),H(I,z),H(z,B),O||(P=[w(c,"input",t[10]),w(f,"input",t[11]),w(A,"input",t[12]),w(z,"click",t[9])],O=!0)},p(t,s){t[5]!=t[0].title||t[6]!=t[0].descr||t[7]!=t[0].code?F?F.p(t,s):(F=_(t),F.c(),F.m(e.parentNode,e)):F&&(F.d(1),F=null),32&s&&c.value!==t[5]&&U(c,t[5]),64&s&&U(f,t[6]),128&s&&U(A,t[7]),224&s&&(X=0!=j(t[5],t[6],t[7]).length),X?G?G.p(t,s):(G=C(t),G.c(),G.m(I,R)):G&&(G.d(1),G=null),224&s&&L!==(L=0!=j(t[5],t[6],t[7]).length)&&(z.disabled=L)},d(t){F&&F.d(t),t&&l(e),t&&l(s),t&&l(a),t&&l(c),t&&l(d),t&&l(h),t&&l(p),t&&l(f),t&&l(g),t&&l(m),t&&l(N),t&&l(A),t&&l(D),t&&l(I),G&&G.d(),O=!1,k(P)}}}function D(t){let e,s;return{c(){e=E("h1"),s=y("loading...")},l(t){e=T(t,"H1",{});var n=x(e);s=$(n,"loading..."),n.forEach(l)},m(t,n){r(t,e,n),H(e,s)},p:c,d(t){t&&l(e)}}}function _(t){let e,s,i,a,d,h,u;return{c(){e=E("button"),s=y("restore original test"),i=n(),a=E("h4"),d=y("modified!"),this.h()},l(t){e=T(t,"BUTTON",{});var n=x(e);s=$(n,"restore original test"),n.forEach(l),i=o(t),a=T(t,"H4",{style:!0});var r=x(a);d=$(r,"modified!"),r.forEach(l),this.h()},h(){b(a,"color","red")},m(n,l){r(n,e,l),H(e,s),r(n,i,l),r(n,a,l),H(a,d),h||(u=w(e,"click",t[8]),h=!0)},p:c,d(t){t&&l(e),t&&l(i),t&&l(a),h=!1,u()}}}function C(t){let e,s,n=j(t[5],t[6],t[7])+"";return{c(){e=E("h5"),s=y(n),this.h()},l(t){e=T(t,"H5",{style:!0});var i=x(e);s=$(i,n),i.forEach(l),this.h()},h(){b(e,"margin-top","20px"),b(e,"color","red")},m(t,n){r(t,e,n),H(e,s)},p(t,e){224&e&&n!==(n=j(t[5],t[6],t[7])+"")&&N(s,n)},d(t){t&&l(e)}}}function I(t){let e,s,d;function h(t,e){return t[1]?D:A}document.title=e="Updating test "+t[0].id;let u=h(t),p=u(t);return{c(){s=n(),p.c(),d=i()},l(t){a('[data-svelte="svelte-1it3kzn"]',document.head).forEach(l),s=o(t),p.l(t),d=i()},m(t,e){r(t,s,e),p.m(t,e),r(t,d,e)},p(t,[s]){1&s&&e!==(e="Updating test "+t[0].id)&&(document.title=e),u===(u=h(t))&&p?p.p(t,s):(p.d(1),p=u(t),p&&(p.c(),p.m(d.parentNode,d)))},i:c,o:c,d(t){t&&l(s),p.d(t),t&&l(d)}}}function R(){new URL(location).searchParams.get("id");return 1}function j(t,e,s){return 0==t.length?"missing title":t.length>256?`title is too long: ${t.length} > 256`:0==e.length?"description is missing":e.length>2048?`description is too long: ${t.length} > 2048`:0==s.length?"code is missing":s.length>8192?`code is too long: ${t.length} > 8192`:""}function z(t,e,s){let n,i,a,l=c,o=()=>(l(),l=d(H,t=>s(5,n=t)),H),r=c,E=()=>(r(),r=d(w,t=>s(6,i=t)),w),y=c,T=()=>(y(),y=d(N,t=>s(7,a=t)),N);t.$$.on_destroy.push(()=>l()),t.$$.on_destroy.push(()=>r()),t.$$.on_destroy.push(()=>y());let x=null,$=[],b=!0,H=null;o();let w=null;E();let N=null;function U(){H.set($.title)}function k(){w.set($.descr)}function A(){N.set($.code)}return T(),h(()=>{R();o(s(2,H=u(""))),E(s(3,w=u(""))),T(s(4,N=u(""))),x=p(),async function(t){s(1,b=!0);let e=R(),l=await f(x,"test/"+e);s(0,$=l.data),""==n&&U();""==i&&k();""==a&&A();s(1,b=!1)}()}),[$,b,H,w,N,n,i,a,function(){U(),k(),A()},async function(){200==(await g(x,"update_test",{id:$.id,title:n,descr:i,code:a})).status&&(H.set(""),w.set(""),N.set(""),m(),v("/test?id="+$.id+"&page=0"))},function(){n=this.value,H.set(n)},function(){i=this.value,w.set(i)},function(){a=this.value,N.set(a)}]}export default class extends t{constructor(t){super(),e(this,t,z,I,s,{})}}
