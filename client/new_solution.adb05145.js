import{S as t,i as e,s,e as a,t as o,c as l,b as n,f as i,g as r,j as c,k as h,l as d,m as u,a as f,x as g,d as m,h as p,N as v,H as E,n as b,O as w,I as x,A as N,J as T,D as y,K as I,L as S,M as _}from"./client.87351f6c.js";function A(t){let e,s,f=$(t[2])+"";return{c(){e=a("h5"),s=o(f),this.h()},l(t){e=l(t,"H5",{style:!0});var a=n(e);s=i(a,f),a.forEach(r),this.h()},h(){c(e,"margin-top","20px"),c(e,"color","red")},m(t,a){h(t,e,a),d(e,s)},p(t,e){4&e&&f!==(f=$(t[2])+"")&&u(s,f)},d(t){t&&r(e)}}}function H(t){let e,s,x,N,T,y,I,S,_,H,j,k,C,D,L,O,R,U,B,J,K,M=$(t[2]).length>0;document.title=e="New Solution for Test "+t[0];let P=M&&A(t);return{c(){s=f(),x=a("h1"),N=o("New solution for "),T=a("a"),y=o("test "),I=o(t[0]),_=f(),H=a("h4"),j=o("Code"),k=f(),C=a("textarea"),D=f(),L=a("div"),P&&P.c(),O=f(),R=a("button"),U=o("add solution"),this.h()},l(e){g('[data-svelte="svelte-88ih38"]',document.head).forEach(r),s=m(e),x=l(e,"H1",{});var a=n(x);N=i(a,"New solution for "),T=l(a,"A",{href:!0});var o=n(T);y=i(o,"test "),I=i(o,t[0]),o.forEach(r),a.forEach(r),_=m(e),H=l(e,"H4",{style:!0});var c=n(H);j=i(c,"Code"),c.forEach(r),k=m(e),C=l(e,"TEXTAREA",{style:!0}),n(C).forEach(r),D=m(e),L=l(e,"DIV",{});var h=n(L);P&&P.l(h),O=m(h),R=l(h,"BUTTON",{disabled:!0});var d=n(R);U=i(d,"add solution"),d.forEach(r),h.forEach(r),this.h()},h(){p(T,"href",S="/test?id="+t[0]),c(H,"margin-top","20px"),c(C,"width","100%"),c(C,"height","200px"),R.disabled=B=0!=$(t[2]).length},m(e,a){h(e,s,a),h(e,x,a),d(x,N),d(x,T),d(T,y),d(T,I),h(e,_,a),h(e,H,a),d(H,j),h(e,k,a),h(e,C,a),v(C,t[2]),h(e,D,a),h(e,L,a),P&&P.m(L,null),d(L,O),d(L,R),d(R,U),J||(K=[E(C,"input",t[4]),E(R,"click",t[3])],J=!0)},p(t,[s]){1&s&&e!==(e="New Solution for Test "+t[0])&&(document.title=e),1&s&&u(I,t[0]),1&s&&S!==(S="/test?id="+t[0])&&p(T,"href",S),4&s&&v(C,t[2]),4&s&&(M=$(t[2]).length>0),M?P?P.p(t,s):(P=A(t),P.c(),P.m(L,O)):P&&(P.d(1),P=null),4&s&&B!==(B=0!=$(t[2]).length)&&(R.disabled=B)},i:b,o:b,d(t){t&&r(s),t&&r(x),t&&r(_),t&&r(H),t&&r(k),t&&r(C),t&&r(D),t&&r(L),P&&P.d(),J=!1,w(K)}}}function $(t){return null==t||0==t.length?"code is missing":t.length>8192?`code is too long: ${t.length} > 8192`:""}function j(t,e,s){let a,o=b,l=()=>(o(),o=x(r,t=>s(2,a=t)),r);t.$$.on_destroy.push(()=>o());let n=null,i=0,r=null;return l(),N(()=>{l(s(1,r=T(localStorage.getItem("scode")||""))),r.subscribe(t=>localStorage.setItem("scode",t)),n=y();const t=new URL(location);s(0,i=parseInt(t.searchParams.get("test_id")))}),[i,r,a,async function(){200==(await I(n,"create_solution",{test_code_id:i,code:a})).status&&(r.set(""),S(),_("/test?id="+i+"&page=0"))},function(){a=this.value,r.set(a)}]}export default class extends t{constructor(t){super(),e(this,t,j,H,s,{})}}
